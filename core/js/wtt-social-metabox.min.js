jQuery(document).ready(function(i){var o=Object.prototype.toString;function t(t){if(a=typeof(e=t),null==e||"object"!=a&&"function"!=a)return!1;var e,a,n,i=null==(n=t)?void 0===n?"[object Undefined]":"[object Null]":o.call(n);return"[object Function]"==i||"[object AsyncFunction]"==i||"[object GeneratorFunction]"==i||"[object Proxy]"==i}function e(t){return null==t}function a(){return!e(window.wp)&&!e(wp.data)&&!e(wp.data.select("core/edit-post"))&&!e(wp.data.select("core/editor"))&&t(wp.data.select("core/editor").getEditedPostAttribute)}var n,l;i("#wtt-tabs .hidden").removeClass("hidden"),i("#wtt-tabs").tabs(),a()&&(i(".wtt-preview-wrapper").remove(),i(".wtt-close-icon").remove()),i("#wtt_opengraph-image_button").click(function(t){t.preventDefault(),n||(n=wp.media.frames.file_frame=wp.media({title:"Select image",button:{text:"Use this image"},multiple:!1})).on("select",function(){attachment=n.state().get("selection").first().toJSON(),i("#wtt_opengraph-image").val(attachment.url)}),n.open()}),i("#wtt_opengraph_image_button_clear").click(function(t){t.preventDefault(),i("#wtt_opengraph-image").val("")}),i(".tm_upload_file_button").click(function(t){t.preventDefault(),l||(l=wp.media.frames.file_frame=wp.media({title:"Select image",button:{text:"Use this image"},multiple:!1})).on("select",function(){attachment2=l.state().get("selection").first().toJSON(),i("#_tm_company_logo").val(attachment2.url)}),l.open()});var r=document.getElementById("wtt_title_info"),c=document.getElementById("wtt_description_info"),p=document.getElementById("wtt_opengraph-title"),s=document.getElementById("wtt_opengraph-description");null!==p&&(p.onkeyup=function(){75<this.value.length?r.innerHTML="Too long!":(this.value,r.innerHTML=this.value.length+"/75")}),null!==s&&(s.onkeyup=function(){200<this.value.length?c.innerHTML="Too long!":(this.value,c.innerHTML=this.value.length+"/200")});var u=document.getElementById("wtt_canonical-link");i(function(){var t=webtexttoolnonce.ajaxurl+"?action="+webtexttoolnonce.action+"_search_posts";null!==u&&(i("#wtt_canonical-link").autocomplete({source:t,delay:500,minLength:3,select:function(t,e){t.preventDefault(),i(this).val(e.item.link)}}).data("ui-autocomplete")._renderItem=function(t,e){return t.addClass("wtt-autocomplete"),i("<li></li>").attr("item-autocomplete",e).append(e.label+'<span class="wtt-float-right">'+((a=e.type).charAt(0).toUpperCase()+a.slice(1))+"</span>").appendTo(t);var a})});var d={altFormat:"yy-mm-dd"};if("undefined"!=typeof tm_datepicker&&(d.dateFormat=tm_datepicker.date_format),i("input.structured-data-datepicker, input#_tm_job_expires").each(function(){var t=i("<input />",{type:"hidden",name:i(this).attr("name")}).insertAfter(i(this));if(i(this).attr("name",i(this).attr("name")+"-datepicker"),i(this).keyup(function(){""===i(this).val()&&t.val("")}),i(this).datepicker(i.extend({},d,{altField:t})),i(this).val()){var e=i(this).val().split("-");if(3===e.length){var a=new Date(parseInt(e[0],10),parseInt(e[1],10)-1,parseInt(e[2],10));i(this).datepicker("setDate",a)}}}),i(".tips, .help_tip").each(function(){var t=i(this).attr("data-tip");t&&i(this).tipTip({defaultPosition:"top",content:"",fadeIn:50,fadeOut:50,delay:200,enter:function(){i(tiptip_content).text(t)}})}),i(function(){i("#tm_job_schema_type").hide(),i("#_tm_schema_type").change(function(){"job_posting"==i("#_tm_schema_type").val()?i("#tm_job_schema_type").show():i("#tm_job_schema_type").hide()}),""!==i("#_tm_schema_type").val()&&"job_posting"==i("#_tm_schema_type").val()?i("#tm_job_schema_type").show():i("#tm_job_schema_type").hide()}),!a()){i(".tm-form-field").on("focus","input[type=text], input[type=password], input[type=url], input[type=email], input[type=number], textarea",function(){var t;"1"!==(t=i(this).closest("form")).data("validated")&&t.data("validated","1").validate()}),i.validator.addMethod("regex",function(t,e,a){var n=RegExp("string"==typeof a?a:i(e).data("validate-pattern"));return this.optional(e)||n.test(t)},wtt_globals.validationl10n.regexErrorDefault),i.extend(i.validator.messages,{required:wtt_globals.validationl10n.requiredErrorDefault,email:wtt_globals.validationl10n.emailErrorDefault,url:wtt_globals.validationl10n.urlErrorDefault}),i.extend(i.validator.defaults,{errorClass:"invalid"})}});