var WTT_DESCRIPTION="",META_DESC_LENGTH=158;jQuery(document).ready(function(c){var t=document.getElementById("title")&&document.getElementById("title").value.replace(/<(.|\n)*?>/g,"")||wttReplaceVars.replace_vars.post_title,e=document.getElementById("excerpt")&&document.getElementById("excerpt").value||"",s=wttReplaceVars.title_template,n=wttReplaceVars.replace_vars,i=Object.prototype.toString;function l(t){if(!function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}(t))return!1;var e=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i.call(t)}(t);return"[object Function]"==e||"[object AsyncFunction]"==e||"[object GeneratorFunction]"==e||"[object Proxy]"==e}function o(t){return null==t}o(window.wp)||o(wp.data)||o(wp.data.select("core/edit-post"))||o(wp.data.select("core/editor"))||!l(wp.data.select("core/editor").getEditedPostAttribute)||(t=wp.data.select("core/editor").getEditedPostAttribute("title")||wttReplaceVars.replace_vars.post_title,e=wp.data.select("core/editor").getEditedPostAttribute("excerpt"));function r(t){var e=[],n=d[t];return!0===_.isUndefined(n)?"":(_.forEach(n,function(t){!1!==t.checked&&e.push(t.label)}),c.unique(e).join(", "))}function a(t){var e=c(t).find("input[type=checkbox]"),n=c(t).attr("id").replace("taxonomy-","");0<e.length&&function(t,l){var o=[];_.isUndefined(d[l])&&(d[l]={}),_.forEach(t,function(t){var e=(t=c(t)).val(),n=function(t){var e=t.parent("label").clone();return e.children().remove(),e.text().trim()}(t),i=t.prop("checked");d[l][e]={label:n,checked:i},i&&-1===o.indexOf(n)&&o.push(n)}.bind(this))}(e,n),function(){p=r("category"),void 0!==m&&(m.post_category=r("category"));var t=y(c("#wtt_title").val());""!==t&&w(t)}()}var d={},p="";function u(){var t=c("textarea#description").val();return t=t||""}"undefined"!=typeof wtt_globals&&("post"===wtt_globals.current_screen&&c(".categorydiv").length)&&c(".categorydiv").each(function(t,e){(e=c(e)).on("change","input[type=checkbox]",a.bind(this,e)),a(e)}.bind(this));var g,h,v,m={sitetitle:n.sitetitle,tagline:n.tagline,post_title:t,post_excerpt:e,post_date:(v="",""!==n.post_date&&(v=n.post_date),v),post_category:p,post_author:(h="",""!==n.post_author&&(h=n.post_author),h),post_tag:(g="",""!==n.post_tag&&(g=n.post_tag),g),page:n.page,sep:n.sep,term_title:n.term_title,term_description:u(),category_title:n.term_title,category_description:u(),tag_title:n.term_title,tag_description:u()};function y(t){for(var e in m)m.hasOwnProperty(e)&&(t=t.replace("{{"+e+"}}",m[e]));return t}function w(t){c(".wtt-snippet-title").html(t)}function f(t){t.length>META_DESC_LENGTH&&(t=t.substring(0,META_DESC_LENGTH)+" ...",c(".wtt-snippet-description").text(t)),c(".wtt-snippet-description").text(t)}c("#wtt_title").keyup(function(t){if(0<c(this).val().length){var e=t.target.value.replace(/<(.|\n)*?>/g,"");w(e=y(e))}else 0===c(this).val().length&&""===s?(s="{{post_title}} - {{sitetitle}}",w(document.getElementById("wtt_title").placeholder=s)):w(e=y(s))}),c("#wtt_description").keyup(function(t){if(0<c(this).val().length){var e=t.target.value.replace(/<(.|\n)*?>/g,""),n=c("#wtt-snippet-description").text();document.getElementById("wtt_description").style.color="",(e.length>META_DESC_LENGTH||n.length>META_DESC_LENGTH)&&(document.getElementById("wtt_description").style.color="#d00000"),e=y(e),f(WTT_DESCRIPTION=e)}else 0===c(this).val().length&&f("")}),window.onload=function(){function t(){m.post_title=this.value.replace(/<(.|\n)*?>/g,"");var t=y(n.val());w(t),""===n.val()&&(""!==s&&(t=y(s)),w(t))}for(var e=document.getElementsByClassName("editor-post-title__input"),n=c("#wtt_title"),i=0;i<e.length;i++)e[i].addEventListener("input",t,!1)};for(var E=["excerpt","title","name"],b=0;b<E.length;b++)null!==document.getElementById(E[b])&&document.getElementById(E[b]).addEventListener("input",function(){var t=this.value.replace(/<(.|\n)*?>/g,"");m["post_"+this.id]=t,m["term_"+this.id]=t,m["category_"+this.id]=t,m["tag_"+this.id]=t,"name"===this.id&&(m.term_title=t);var e=y(c("#wtt_title").val()),n=y(c("#wtt_description").val());w(e),""===c("#wtt_title").val()&&(""!==s&&(e=y(s)),w(e)),f(n),""===c("#wtt_description").val()&&f(n=y(c("#wtt_description").val()))});!function(){var t=c("#wtt_title"),e=t.length?t.val().replace(/<(.|\n)*?>/g,""):"",n=c("#wtt_description").length?c("#wtt_description").val().replace(/<(.|\n)*?>/g,""):"",i="",l="";if(""!==s?i=y(s):""===s&&"undefined"!=typeof wtt_globals&&"post"===wtt_globals.current_screen&&0===e.length?i=y(s="{{post_title}} - {{sitetitle}}"):""===s&&"term-php"===window.adminpage&&0===e.length&&(i=y(s="{{term_title}} - {{sitetitle}}")),t.length&&t.attr("placeholder",s),""!==i&&w(i),0<e.length&&w(i=y(e)),0<n.length&&(f(l=y(n)),WTT_DESCRIPTION=l),0<c("input[name=taxonomy]").length){document.getElementById("wtt_box_left").style.float="",document.getElementById("wtt_box_left").style.width="100%",document.getElementById("wtt_box_right").style.width="100%",document.getElementById("wtt_snippet_preview").style.padding="0 5px",document.getElementsByClassName("wtt-close-icon")[0].style.display="none";for(var o=document.getElementsByClassName("btn-info-d"),r=0,a=o.length;r<a;r++)o[r].style.display="none"}}()});